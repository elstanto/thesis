\ProvidesPackage{preamble}

\usepackage{subfiles}
\usepackage[style=ieee, doi=false, isbn=false]{biblatex}
\usepackage{graphicx}
\usepackage{titlesec}
\usepackage[a4paper]{geometry}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{xpatch}
\usepackage{booktabs}
\usepackage{subcaption}

\fancyhf{}
\lhead{\nouppercase{\leftmark}}
\rhead{\thepage}

\titleformat{\chapter}[hang]{\bf\huge}{\thechapter}{2pc}{}
\addbibresource{../IEEEabrv.bib}
\addbibresource{../references.bib}

\xpatchbibdriver{online}
  {\printtext[parens]{\usebibmacro{date}}}
  {\iffieldundef{year}
    {}
    {\printtext[parens]{\usebibmacro{date}}}}
  {}
  {\typeout{There was an error patching biblatex-ieee (specifically, ieee.bbx's @online driver)}}

\DeclareMathOperator\erf{erf}
  
\setcounter{secnumdepth}{3}

\AtBeginDocument{%
}

\AtEndDocument{%
}

\newcommand{\onlyinsubfile}[1]{#1}
\newcommand{\notinsubfile}[1]{}

